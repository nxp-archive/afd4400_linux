/*
 * Copyright 2013 Freescale Semiconductor, Inc.
 * Copyright 2011 Linaro Ltd.
 *
 * The code contained herein is licensed under the GNU General Public
 * License. You may obtain a copy of the GNU General Public License
 * Version 2 or later at the following locations:
 *
 * http://www.opensource.org/licenses/gpl-license.html
 * http://www.gnu.org/copyleft/gpl.html
 */

/include/ "skeleton.dtsi"

/ {
        aliases {
                serial0 = &uart1;
                serial1 = &uart2;
                serial2 = &uart3;
                serial3 = &uart4;
                gpio0 = &gpioA;
                gpio1 = &gpioB;
                gpio2 = &gpioC;
                gpio3 = &gpioD;
                gpio4 = &gpioE;
        };

        cpus {
                #address-cells = <1>;
                #size-cells = <0>;

                cpu@0 {
                        compatible = "arm,cortex-a9";
                        reg = <0>;
                        next-level-cache = <&L2>;
                };
        };

        clocks {
                #address-cells = <1>;
                #size-cells = <0>;
                osc1 {
                        compatible = "fsl,d4400-osc1-dev-clk", "fixed-clock";
                        clock-frequency = <122880000>;
                };

                osc2 {
                        compatible = "fsl,d4400-osc2-sgmii-clk", "fixed-clock";
                        clock-frequency = <125000000>;
                };


        };

        intc: interrupt-controller@01015000 {
                compatible = "arm,cortex-a9-gic";
                #interrupt-cells = <3>;
                #address-cells = <1>;
                #size-cells = <1>;
                interrupt-controller;
                reg = <0x01015000 0x1000>, /* distributor address */
                      <0x01014100 0x100>;  /* CPU interface address */
        };

        L2: l2-cache@10900000 {
                compatible = "arm,pl310-cache";
                reg = <0x10900000 0x4000>;
                interrupts = <0 59 0x04>;
                cache-unified;
                cache-level = <2>;
        };

        soc@0 {
                #address-cells = <1>;
                #size-cells = <1>;
                compatible = "simple-bus";
                interrupt-parent = <&intc>;
                ranges = <0x0 0x0 0xFFFFFFFF>;

                aips-bus@1000000 { /* AIPS1 */
                        compatible = "fsl,aips-bus", "simple-bus";
                        #address-cells = <1>;
                        #size-cells = <1>;
                        reg = <0x1000000 0x200000>;
                        ranges = <0x0 0x1000000 0x200000>;

                        mmdc0: mmdc@80000 { /* MMDC0 */
                                reg = <0x00080000 0x4000>;
                                interrupts = <0 45 0x04>;
                        };

                        clks: ccm@094000 {
                                compatible = "fsl,d4400-ccm";
                                reg = <0x00094000 0x4000>;
                                #clock-cells = <1>;
                        };

                        weim@98000 {
                                reg = <0x00098000 0x4000>;
                        };

			wdog: wdog@a0000 {
				reg = <0x000a0000 0x4000>;
				interrupts = <0 47 0x04>;
			       /* FIXME-D4400: update this when clocks
				*   enum is defined in ccm.
				*/
				clocks = <&clks 0>;
			};

			ecspi1: ecspi@A4000 {
				#address-cells = <1>;
				#size-cells = <0>;
				compatible = "fsl,d4400-ecspi";
				reg = <0x000A4000 0x4000>;
				interrupts = <0 13 0x04>;
				clocks = <&clks 32>, <&clks 33>;
				clock-names = "ipg", "per";
				status = "disabled";
			};

			ecspi2: ecspi@0A8000 {
				#address-cells = <1>;
				#size-cells = <0>;
				compatible = "fsl,d4400-ecspi";
				reg = <0x000A8000 0x4000>;
				interrupts = <0 14 0x04>;
				clocks = <&clks 34>, <&clks 35>;
				clock-names = "ipg", "per";
				status = "disabled";
			};

			ecspi3: ecspi@AC000 {
				#address-cells = <1>;
				#size-cells = <0>;
				compatible = "fsl,d4400-ecspi";
				reg = <0x000AC000 0x4000>;
				interrupts = <0 15 0x04>;
				clocks = <&clks 36>, <&clks 37>;
				clock-names = "ipg", "per";
				status = "disabled";
			};

			ecspi4: ecspi@B0000 {
				#address-cells = <1>;
				#size-cells = <0>;
				compatible = "fsl,d4400-ecspi";
				reg = <0x000B0000 0x4000>;
				interrupts = <0 16 0x04>;
				clocks = <&clks 38>, <&clks 39>;
				clock-names = "ipg", "per";
				status = "disabled";
			};

			ecspi5: ecspi@B4000 {
				#address-cells = <1>;
				#size-cells = <0>;
				compatible = "fsl,d4400-ecspi";
				reg = <0x000B4000 0x4000>;
				interrupts = <0 17 0x04>;
				clocks = <&clks 40>, <&clks 41>;
				clock-names = "ipg", "per";
				status = "disabled";
			};

			ecspi6: ecspi@B8000 {
				#address-cells = <1>;
				#size-cells = <0>;
				compatible = "fsl,d4400-ecspi";
				reg = <0x000B8000 0x4000>;
				interrupts = <0 18 0x04>;
				clocks = <&clks 42>, <&clks 43>;
				clock-names = "ipg", "per";
				status = "disabled";
			};

			ecspi7: ecspi@0BC000 {
				#address-cells = <1>;
				#size-cells = <0>;
				compatible = "fsl,d4400-ecspi";
				reg = <0x000BC000 0x4000>;
				interrupts = <0 19 0x04>;
				clocks = <&clks 44>, <&clks 45>;
				clock-names = "ipg", "per";
				status = "disabled";
			};

			ecspi8: ecspi@C0000 {
				#address-cells = <1>;
				#size-cells = <0>;
				compatible = "fsl,d4400-ecspi";
				reg = <0x000C0000 0x4000>;
				interrupts = <0 20 0x04>;
				clocks = <&clks 46>, <&clks 47>;
				clock-names = "ipg", "per";
				status = "disabled";
			};

                        gpioA: gpio@d4000 {
                                compatible = "fsl,d4400-gpio";
                                reg = <0x000d4000 0x4000>;
                                interrupts = <0 159 0x04>;
                                gpio-controller;
                                #gpio-cells = <2>;
                                interrupt-controller;
                                #interrupt-cells = <2>;
                        };

                        gpioB: gpio@d8000 {
                                compatible = "fsl,d4400-gpio";
                                reg = <0x000d8000 0x4000>;
                                interrupts = <0 160 0x04>;
                                gpio-controller;
                                #gpio-cells = <2>;
                                interrupt-controller;
                                #interrupt-cells = <2>;
                        };

                        gpioC: gpio@dc000 {
                                compatible = "fsl,d4400-gpio";
                                reg = <0x000dc000 0x4000>;
                                interrupts = <0 161 0x04>;
                                gpio-controller;
                                #gpio-cells = <2>;
                                interrupt-controller;
                                #interrupt-cells = <2>;
                        };

                        gpioD: gpio@e0000 {
                                compatible = "fsl,d4400-gpio";
                                reg = <0x000e0000 0x4000>;
                                interrupts = <0 162 0x04>;
                                gpio-controller;
                                #gpio-cells = <2>;
                                interrupt-controller;
                                #interrupt-cells = <2>;
                        };

                        gpioE: gpio@e4000 {
                                compatible = "fsl,d4400-gpio";
                                reg = <0x000e4000 0x4000>;
                                interrupts = <0 163 0x04>;
                                gpio-controller;
                                #gpio-cells = <2>;
                                interrupt-controller;
                                #interrupt-cells = <2>;
                        };

                        epit@e8000 {
				compatible = "fsl,d4400-epit";
                                reg = <0x000e8000 0x4000>;
                                interrupts = <0 22 0x01>;
                        };

                        uart1: serial@ec000 {
                                 compatible = "fsl,d4400-uart";
                                 reg = <0x000ec000 0x4000>;
                                 interrupts = <0 0 0x04>;
                                 clocks = <&clks 57>, <&clks 18>;
                                 clock-names = "ipg", "per";
                                 status = "disabled";
                        };

                        uart2: serial@f0000 {
                                 compatible = "fsl,d4400-uart";
                                 reg = <0x000f0000 0x4000>;
                                 interrupts = <0 1 0x04>;
                                 clocks = <&clks 59>, <&clks 20>;
                                 clock-names = "ipg", "per";
                                 status = "disabled";
                        };

                        uart3: serial@f4000 {
                                 compatible = "fsl,d4400-uart";
                                 reg = <0x000f4000 0x4000>;
                                 interrupts = <0 2 0x04>;
                                 clocks = <&clks 61>, <&clks 22>;
                                 clock-names = "ipg", "per";
                                 status = "disabled";
                        };

                        uart4: serial@f8000 {
                                 compatible = "fsl,d4400-uart";
                                 reg = <0x000f8000 0x4000>;
                                 interrupts = <0 3 0x01>;
                                 clocks = <&clks 63>, <&clks 24>;
                                 clock-names = "ipg", "per";
                                 status = "disabled";
                        };
                };

                aips-bus@1200000 { /* AIPS2 */
                        compatible = "fsl,aips-bus", "simple-bus";
                        #address-cells = <1>;
                        #size-cells = <1>;
                        reg = <0x1200000 0x2e00000>;
                        ranges = <0x0 0x1200000 0x2e00000>;
			iim@f8000 {
				compatible = "fsl,d4400-iim";
				reg = <0x000f8000 0x4000>;
			};
			scm: gpcr@C0000 {
                                 compatible = "fsl,d4400-scm";
                                 reg = <0x000C0000 0x4000>;
			};
                };

                aips-bus@4000000 { /* AIPS3 */
                        compatible = "fsl,aips-bus", "simple-bus";
                        #address-cells = <1>;
                        #size-cells = <1>;
                        reg = <0x4000000 0x2000000>;
                        ranges = <0x0 0x4000000 0x2000000>;

                        iomuxc@8c000 {
                                compatible = "fsl,d4400-iomuxc";
                                reg = <0x0008c000 0x4000>, < 0x0009c000 0x4000>;
				reg-names = "iomuxc-ddr", "iomuxc-main";
			/* FIXME-D4400: update pad setting if SW  modifies PAD config */
                                uart4 {
                                        pinctrl_uart4_1: uart4grp-1 {
                                                fsl,pins = <
                                                        350 0x80000000    /* D4400_PAD_UART4_TXD_UART_4_TXD */
                                                        356 0x80000000    /* D4400_PAD_UART4_RXD_UART_4_RXD */
                                                >;
                                        };
                                };

				ecspi1 {
					pinctrl_ecspi1_1: ecspi1grp-1 {
						fsl,pins = <
							182 0x80000000	/* D4400_PAD_SPI1_MOSI_ECSPI_1_MOSI */
							186 0x80000000	/* D4400_PAD_SPI1_MISO_ECSPI_1_MISO */
							189 0x80000000	/* D4400_PAD_SPI1_CLK_ECSPI_1_CLK */
							193 0x80000000	/* D4400_PAD_SPI1_SS0_GPIOD_23 */ /* SS0 */
							196 0x80000000	/* D4400_PAD_SPI1_SS1_GPIOE_23 */ /* SS1 */
						>;
					};
				};

				ecspi2 {
					pinctrl_ecspi2_1: ecspi2grp-1 {
						fsl,pins = <
							198 0x80000000	/* D4400_PAD_SPI2_MOSI_ECSPI_2_MOSI */
							202 0x80000000	/* D4400_PAD_SPI2_MISO_ECSPI_2_MISO */
							205 0x80000000	/* D4400_PAD_SPI2_CLK_ECSPI_2_CLK */
							209 0x80000000	/* D4400_PAD_SPI2_SS0_GPIOD_25 */ /* SS0 */
							212 0x80000000	/* D4400_PAD_SPI2_SS1_GPIOE_24 */ /* SS1 */
						>;
					};
				};

				ecspi3 {
					pinctrl_ecspi3_1: ecspi3grp-1 {
						fsl,pins = <
							214 0x80000000	/* D4400_PAD_SPI3_MOSI_ECSPI_3_MOSI */
							218 0x80000000	/* D4400_PAD_SPI3_MISO_ECSPI_3_MISO */
							221 0x80000000	/* D4400_PAD_SPI3_CLK_ECSPI_3_CLK */
							225 0x80000000	/* D4400_PAD_SPI3_SS0_GPIOD_27 */ /* SS0 */
							228 0x80000000	/* D4400_PAD_SPI3_SS1_GPIOE_25 */ /* SS1 */
						>;
					};
				};

				ecspi4 {
					pinctrl_ecspi4_1: ecspi4grp-1 {
						fsl,pins = <
							230 0x80000000	/* D4400_PAD_SPI4_MOSI_ECSPI_4_MOSI */
							234 0x80000000	/* D4400_PAD_SPI4_MISO_ECSPI_4_MISO */
							237 0x80000000	/* D4400_PAD_SPI4_CLK_ECSPI_4_CLK */
							241 0x80000000	/* D4400_PAD_SPI4_SS0_GPIOD_29 */ /* SS0 */
							244 0x80000000	/* D4400_PAD_SPI4_SS1_GPIOE_26 */ /* SS1 */
						>;
					};
				};

				ecspi5 {
					pinctrl_ecspi5_1: ecspi5grp-1 {
						fsl,pins = <
							246 0x80000000	/* D4400_PAD_SPI5_MOSI_ECSPI_5_MOSI */
							250 0x80000000	/* D4400_PAD_SPI5_MISO_ECSPI_5_MISO */
							253 0x80000000	/* D4400_PAD_SPI5_CLK_ECSPI_5_CLK */
							257 0x80000000	/* D4400_PAD_SPI5_SS0_GPIOD_30 */ /* SS0 */
							260 0x80000000	/* D4400_PAD_SPI5_SS1_GPIOE_31 */ /* SS1 */
						>;
					};
				};

				ecspi6 {
					pinctrl_ecspi6_1: ecspi6grp-1 {
						fsl,pins = <
							262 0x80000000	/* D4400_PAD_SPI6_MOSI_ECSPI_6_MOSI */
							267 0x80000000	/* D4400_PAD_SPI6_MISO_ECSPI_6_MISO */
							271 0x80000000	/* D4400_PAD_SPI6_CLK_ECSPI_6_CLK */
							276 0x80000000	/* D4400_PAD_SPI6_SS0_GPIOD_13 */ /* SS0 */
							280 0x80000000	/* D4400_PAD_SPI6_SS1_GPIOE_27 */ /* SS1 */
						>;
					};
				};

				ecspi7 {
					pinctrl_ecspi7_1: ecspi7grp-1 {
						fsl,pins = <
							282 0x80000000	/* D4400_PAD_SPI7_MOSI_ECSPI_7_MOSI */
							287 0x80000000	/* D4400_PAD_SPI7_MISO_ECSPI_7_MISO */
							291 0x80000000	/* D4400_PAD_SPI7_CLK_ECSPI_7_CLK */
							296 0x80000000	/* D4400_PAD_SPI7_SS0_GPIOD_17 */ /* SS0 */
							300 0x80000000	/* D4400_PAD_SPI7_SS1_GPIOE_28 */ /* SS1 */
						>;
					};
				};

				ecspi8 {
					pinctrl_ecspi8_1: ecspi8grp-1 {
						fsl,pins = <
							302 0x80000000	/* D4400_PAD_SPI8_MOSI_ECSPI_8_MOSI */
							307 0x80000000	/* D4400_PAD_SPI8_MISO_ECSPI_8_MISO */
							311 0x80000000	/* D4400_PAD_SPI8_CLK_ECSPI_8_CLK */
							317 0x80000000	/* D4400_PAD_SPI8_SS0_GPIOD_21 */ /* SS0 */
							322 0x80000000	/* D4400_PAD_SPI8_SS1_GPIOE_22 */ /* SS1 */
						>;
					};
				};
                        };
                };

                weim-bus@30000000 {
                        compatible = "simple-bus";
                        #address-cells = <1>;
                        #size-cells = <1>;
                        reg = <0x30000000 0x20000000>;
                        ranges = <0x0 0x30000000 0x20000000>;
                };
        };
};

